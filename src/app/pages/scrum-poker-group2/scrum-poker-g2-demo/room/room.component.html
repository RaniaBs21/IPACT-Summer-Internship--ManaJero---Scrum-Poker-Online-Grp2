<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="container">
    <div class="topnav">
        <button class="custom-button" (click)="toggleSidebar()">
            <img src="assets/images/menu.png" width="45" height="40" class="button-icon">
        </button>

        <button class="custom-button">
            <img src="assets/images/invitation.png" width="45" height="45" class="button-icon">
            Invite players
        </button>
    </div>

    <div class="button-container">
        <div class="button-wrapper">
            <br>
            <h1 *ngIf="!revealedCard && selectedCard === null">
                <span>P</span><span>I</span><span>C</span><span>K</span><span> </span>
                <span>Y</span><span>O</span><span>U</span><span>R</span><span> </span>
                <span>C</span><span>A</span><span>R</span><span>D</span><span>S</span><span>!</span>
            </h1>
            <button *ngIf="selectedCard !== null && !revealedCard" (click)="revealCard()" class="neon-shadow">
                Reveal card
            </button>
            <br>
            <button *ngIf="revealedCard" (click)="revealCard()" class="reveal-button" routerLink="createGame">
                start new voting
            </button>
        </div>
        <div class="container">
            <h1 *ngIf="revealedCard">
                <span>Your selected card: {{ revealedCard }}</span>
            </h1>

            <div class="average-agreement" *ngIf="revealedCard">
                <div class="average">
                    <h5 style="color: #3A3A3A">Average:</h5>
                    <h3>{{ selectedCard }}</h3>
                </div>
                <div class="vote">
                    <h5 style="color: #3A3A3A">Vote:</h5>
                    <h3>{{ selectedCard }}</h3>
                </div>
            </div>

        </div>
    </div>
        </div>

<div class="cards" *ngIf="!revealedCard">
    <button *ngFor="let card of cards"
            [ngClass]="{'selected': selectedCard === card}"
            (click)="selectCard(card)"
            class="card-button">
        {{ card }}
    </button>


</div>


<!-- Sidebar -->
<div class="sidebar" [class.open]="isSidebarOpen">
    <div class="sidebar-header">
        <h2>Issues</h2>
    </div>
    <div class="sidebar-content">
        <div class="header-container">

            <h5>issues</h5>
            <div class="dropdown-container">
                <img src="assets/images/import.png" width="50" height="50" class="spaced-img" (click)="toggleDropdown()"
                     style="cursor:pointer;">
                <ul *ngIf="isDropdownOpen" class="dropdown-content">
                    <li (click)="selectOption('jira')">Import from JIRA</li>
                    <li (click)="selectOption('linear')">Import from Linear</li>
                    <li (click)="selectOption('urls')">Add from URLs</li>
                    <li (click)="selectOption('csv')">Import from CSV</li>
                </ul>
            </div>
            <img src="assets/images/close.png" width="50" height="50" (click)="toggleSidebar()" class="close-button">
        </div>
        <button class="btn btn-light" *ngIf="!showForm" (click)="toggleForm()">
            <img src="assets/images/addUserStory.png" width="45" height="45">
            Add An issues
        </button>
        <div *ngIf="showForm" class="issue-form">
            <nb-card-body>
                <form>
                    <div class="form-group">
                        <textarea rows="5" nbInput fullWidth shape="round" [(ngModel)]="issueTitle"
                                  placeholder="Enter a title for the issue"></textarea>
                    </div>

                    <div class="button-group">
                        <button (click)="saveIssue()" class="btn btn-primary">Save</button>
                        <button (click)="cancel()" class="btn btn-light">Cancel</button>
                    </div>
                </form>
            </nb-card-body>
        </div>
    </div>
</div>
<div class="overlay" [class.show]="isSidebarOpen" (click)="toggleSidebar()"></div>

</body>
</html>
